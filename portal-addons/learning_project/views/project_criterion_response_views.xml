<?xml version="1.0"?>
<odoo>
    <record id="project_criterion_response_view_form" model="ir.ui.view">
        <field name="name">project_criterion_response.form</field>
        <field name="model">project_criterion_response</field>
        <field name="arch" type="xml">
            <form string="Project Criterion Response">
                <sheet>
                    <group>
                        <field name="submission" readonly="1" string="Submission" />
                        <field name="criterion" class='criterion_name' readonly="1" string="Criterion" />
                        <field name="specifications" readonly="1" string="Specifications" class='criterion_specifications' />
                        <field name="result" class='criterion_result' attrs="{'invisible': [('submission_result', '=', 'not_graded')]}" string="Result" widget="badge" decoration-success="result == 'passed'" decoration-danger="result == 'did_not_pass'" decoration-warning="result == 'incomplete'" />
                        <field name="result" required="1" class='criterion_result' attrs="{'invisible': [('submission_result', '!=', 'not_graded')]}" string="Result" />
                        <field name="submission_result" string="Submission Result" invisible="1"/>
                        <field name="previous_result" readonly="1" string="Previously Result" class='previous_result' />
                        <field name="previously_feedback" readonly="1" string="Previously Feedback" class='disable_grading_template_html_field_css' />
                        <field name="feed_back" widget="grading_template_html" string="Feedback"/>
                        <field name="material" string="Material" readonly='1'>
                            <tree>
                                <field name="name" />
                            </tree>
                        </field>
                    </group>
                </sheet>

                <footer>
                    <span string="Preview and Save" class="btn btn-primary preview_and_save_btn oe_highlight">Preview and Save</span>
                    <button string="Cancel" special="cancel" onclick='document.querySelector("button.btn-close").click()'/>
                </footer>

                <div id='templates_lib_container'></div>

                <div id='preview_criterion_modal' class='disable_grading_template_html_field_css d-none'>
                    <div id='preview_criterion_container'>
                        <div id='preview_criterion_container_inner'></div>
                        <div class='footer py-2'>
                            <span string="Save" class="btn save_feedback_btn_trigger btn-primary oe_highlight">Save</span>
                            <button string="Save" name="button_save" type="object" class="d-none btn save_feedback_btn btn-primary oe_highlight">Save</button>
                            <span id="close_preview_btn" class="btn">Cancel</span>
                        </div>
                    </div>
                </div>
            </form>
        </field>
    </record>

    <record id="project_criterion_response_action" model="ir.actions.act_window">
        <field name="name">Project Criterion Response</field>
        <field name="res_model">project_criterion_response</field>
        <field name="view_mode">form</field>
    </record>
</odoo>

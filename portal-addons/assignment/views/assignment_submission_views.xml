<?xml version="1.0"?>
<odoo>
    <record id="assignment_submission_view_form" model="ir.ui.view">
        <field name="name">assignment_submission.form</field>
        <field name="model">assignment_submission</field>
        <field name="arch" type="xml">
            <form string="Assignment Submission">
                <sheet>
                    <header class="d-flex align-items-center justify-content-start px-0 py-2">
                        <button name="submit_grade" attrs="{'invisible':[('has_graded_all_criteria','=',True),('result','=','not_graded')]}" string="Submit" confirm="Are you sure? You can not re-grade this submission after clicking OK." type="object" class="oe_highlight disabled"/>
                        <button name="submit_grade" attrs="{'invisible':['|',('has_graded_all_criteria','=',False),('result','!=','not_graded')]}" string="Submit" confirm="Are you sure? You can not re-grade this submission after clicking OK." type="object" class="oe_highlight"/>
                    </header>
                    <group>
                        <field name="has_graded_all_criteria" invisible="1"/>
                        <field name="student" string="Học viên" class="border bg-light" write="false"/>
                        <field name="result" string="Kết quả" class="border bg-light" write="false"/>
                        <field name="assignment" string="Assignment" class="border bg-light" write="false"/>
                        <field name="submission_url" string="URL Submission" class="border bg-light" write="false"/>
                        <field name="criteria_responses" string="Chấm các tiêu chí" class="border bg-light">
                            <tree string="Criterion Response" create="false" delete="false">
                                <field name="number"/>
                                <field name="submission"/>
                                <field name="criterion"/>
                                <field name="feed_back"/>
                                <field name="result"/>
                            </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="assignment_submission_view_tree" model="ir.ui.view">
        <field name="name">assignment_submission.tree</field>
        <field name="model">assignment_submission</field>
        <field name="arch" type="xml">
            <tree string="Assignment Submission Group" edit="false" class="text-center">
                <field name="course" />
                <field name="assignment" />
                <field name="student" />
                <field name="submission_url" />
                <field name="result" />
            </tree>
        </field>
    </record>

    <record id="assignment_submission_action" model="ir.actions.act_window">
        <field name="name">Assignment Submission</field>
        <field name="res_model">assignment_submission</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>